(this["webpackJsonploc-desc"]=this["webpackJsonploc-desc"]||[]).push([[0],{152:function(e,t,r){e.exports=r(278)},278:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(32),i=r.n(o),c=(r(157),r(158),r(28)),l=r.n(c),s=r(37),u=r(22),d=r(140),m=r(292),p=r(127),f=r(85),h=r(141),b=r(40),g=function(){return{className:h.a.apply(void 0,arguments)}},v=Object(b.a)("li")({position:"relative",cursor:"pointer",display:"block",border:"none",height:"auto",textAlign:"left",borderTop:"none",lineHeight:"1em",color:"rgba(0,0,0,.87)",fontSize:"1rem",textTransform:"none",fontWeight:"400",boxShadow:"none",padding:".8rem 1.1rem",whiteSpace:"normal",wordWrap:"normal"},(function(e){var t=e.isActive,r=e.isSelected,a=[];return t&&a.push({color:"rgba(0,0,0,.95)",background:"rgba(0,0,0,.03)"}),r&&a.push({color:"rgba(0,0,0,.95)",fontWeight:"700"}),a})),w=Object(b.a)("input")(Object(f.a)({width:"100%",fontSize:14,wordWrap:"break-word",lineHeight:"1em",outline:0,whiteSpace:"normal",minHeight:"2em",background:"#fff",display:"inline-block",padding:"1em 2em 1em 1em",color:"rgba(0,0,0,.87)",boxShadow:"none",border:"1px solid rgba(34,36,38,.15)",borderRadius:".30rem",transition:"box-shadow .1s ease,width .1s ease"},"&:hover, &:focus",{borderColor:"#96c8da",boxShadow:"0 2px 3px 0 rgba(34,36,38,.15)"}),(function(e){return e.isOpen?Object(f.a)({borderBottomLeftRadius:"0",borderBottomRightRadius:"0"},"&:hover, &:focus",{boxShadow:"none"}):null})),E=(Object(b.a)("label")({fontSize:16,fontWeight:"bold",display:"block",marginBottom:10}),Object(b.a)("ul")({padding:0,marginTop:0,position:"absolute",backgroundColor:"white",width:"100%",maxHeight:"20rem",overflowY:"auto",overflowX:"hidden",outline:"0",transition:"opacity .1s ease",borderRadius:"0 0 .28571429rem .28571429rem",boxShadow:"0 2px 3px 0 rgba(34,36,38,.15)",borderColor:"#96c8da",borderTopWidth:"0",borderRightWidth:1,borderBottomWidth:1,borderLeftWidth:1,borderStyle:"solid"},(function(e){return{border:e.isOpen?null:"none"}}))),y=n.a.forwardRef((function(e,t){return n.a.createElement(E,Object.assign({ref:t},e))})),x=Object(b.a)("button")({backgroundColor:"transparent",border:"none",position:"absolute",right:0,top:0,cursor:"pointer",width:47,display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center"});function O(e){var t=e.isOpen;return n.a.createElement("svg",{viewBox:"0 0 20 20",preserveAspectRatio:"none",width:16,fill:"transparent",stroke:"#979797",strokeWidth:"1.1px",transform:t?"rotate(180)":null},n.a.createElement("path",{d:"M1,6 L10,15 L19,6"}))}function j(){return n.a.createElement("svg",{viewBox:"0 0 20 20",preserveAspectRatio:"none",width:12,fill:"transparent",stroke:"#979797",strokeWidth:"1.1px"},n.a.createElement("path",{d:"M1,1 L19,19"}),n.a.createElement("path",{d:"M19,1 L1,19"}))}var S=r(284),C=r(130),k=r.n(C),R={data:void 0,loading:!0,error:""},P=function(e,t){switch(t.type){case"FETCH_SUCCESS":return{data:t.payload,loading:!1,error:""};case"FETCH_ERROR":return{data:void 0,loading:!1,error:t.payload};default:return e}};var T=function(e){var t=e.address,r=e.children,n=Object(a.useReducer)(P,R),o=Object(u.a)(n,2),i=o[0],c=o[1];return Object(a.useEffect)((function(){k()(Object(s.a)(l.a.mark((function e(){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(S.a)(t,{endpoint:"https://arcgisportal.baltimorepolice.org/gis/rest/services/BPD_Cloud_Locator/GeocodeServer",params:{maxSuggestions:5,outSR:4326,location:{x:-8521378.876202783,y:4762668.342192003,spatialReference:{wkid:102100,latestWkid:3857}}}});case 3:r=e.sent,c({type:"FETCH_SUCCESS",payload:r.suggestions}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),c({type:"FETCH_ERROR",payload:e.t0.message}),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))))()}),[t]),r({data:i.data,loading:i.loading,error:i.error})};function B(e){var t=e.updateXY;return n.a.createElement(d.a,{itemToString:function(e){return e?e.text:""},onStateChange:function(e){var r=e.selectedItem;if(r){var a=r.magicKey;Object(m.a)({magicKey:a,maxLocations:1,outFields:["*"],outSR:4326,endpoint:"https://arcgisportal.baltimorepolice.org/gis/rest/services/BPD_Cloud_Locator/GeocodeServer"}).then((function(e){var r=e.candidates[0].location,a=e.candidates[0].attributes;t(r,a)}))}else t(null)}},(function(e){var t=e.selectedItem,r=e.getInputProps,a=e.getItemProps,o=e.highlightedIndex,i=e.isOpen,c=e.inputValue,l=e.clearSelection,s=e.getToggleButtonProps,u=e.getMenuProps;return n.a.createElement("div",g({width:"100%",margin:"auto"}),n.a.createElement("div",g({position:"relative"}),n.a.createElement(w,r({placeholder:"Search Address"})),t?n.a.createElement(x,{onClick:l,"aria-label":"clear selection"},n.a.createElement(j,null)):n.a.createElement(x,s(),n.a.createElement(O,{isOpen:i}))),n.a.createElement("div",g({position:"relative",zIndex:1e3}),n.a.createElement(y,u({isOpen:i}),i?c?n.a.createElement(T,{address:"".concat(c)},(function(e){var r,i,l=e.loading,s=e.error,u=e.data,d=void 0===u?[]:u;return l?n.a.createElement(v,{disabled:!0},"Loading..."):s?n.a.createElement(v,{disabled:!0},"Error! ",s):d.length?(r=d,i=c,i?Object(p.a)(r,i,{keys:["text"]}):r).map((function(e,r){return n.a.createElement(v,Object.assign({key:r},a({item:e,index:r,isActive:o===r,isSelected:t===e})),e.text)})):n.a.createElement(v,{disabled:!0},"No Addresses found")})):n.a.createElement(v,{disabled:!0},"You have to enter a search query"):null)))}))}var L,W=r(288),D=r(131),I=r(86),M=r.n(I);function A(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(new Error(e.statusText))}function F(e,t){switch(e){case"text":return t.text();default:return t.json()}}function H(e,t){return t?this.objectToFormData(e):function(e){var t=new URLSearchParams;for(var r in e)e.hasOwnProperty(r)&&t.append(r,e[r]);return t.has("f")||t.append("f","json"),t.toString()}(e)}function _(e){return new Promise((function(t,r){var a=e.url,n=e.data||{},o=function(e){var t={};return e||(t["content-type"]="application/x-www-form-urlencoded"),new Headers(t)}(e.isFormData),i={method:e.method||"get",headers:o};e.hideCredentials||(i.credentials="include");var c=H(n,e.isFormData);"get"===i.method?a="".concat(a,"?").concat(c):i.body=c,fetch(a,i).then(A).then(F.bind(null,e.handleAs)).then((function(e){e.error?r(e.error):t(e)})).catch((function(e){r(e)}))}))}function Y(){return new Promise((function(e,t){_({url:"/locdesc/config.json",method:"get"}).then((function(t){return e(t)}))}))}function z(){return(z=Object(s.a)(l.a.mark((function e(t){var r,a,n,o,i,c,s,d,m,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:return r=e.sent,M.a.start(),e.next=6,Object(D.loadModules)(["esri/WebMap","esri/views/MapView","esri/Graphic","esri/widgets/LayerList","esri/widgets/Expand"],{css:!0});case 6:if(a=e.sent,n=Object(u.a)(a,5),o=n[0],i=n[1],c=n[2],s=n[3],d=n[4],t){e.next=15;break}return e.abrupt("return");case 15:return L=c,m=new o({portalItem:{id:r.webMapId}}),p=new i({map:m,container:t}),e.abrupt("return",p.when((function(){var e=new d({view:p,content:new s({view:p,container:document.createElement("div")})});return p.ui.add(e,"top-right"),p.on("mouse-wheel",(function(e){e.stopPropagation()})),M.a.done(),p})));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N={mapDiv:{height:"500px",width:"100",position:"relative",outline:"none"}};var X=function(e){var t=e.center,r=e.updateXY,o=Object(a.useRef)(),i=Object(a.useState)(null),c=Object(u.a)(i,2),l=c[0],s=c[1];return Object(a.useEffect)((function(){(function(e){return z.apply(this,arguments)})(o.current,r).then((function(e){s(e)}))}),[]),Object(a.useEffect)((function(){l&&t&&function(e,t){if(!L)throw new Error("You must load a map before creating new graphics");if(e&&e.ready){e.graphics.removeAll();var r=t.x,a=t.y,n=new L({geometry:{type:"point",x:r,y:a},symbol:{type:"simple-marker",style:"circle",size:12,color:[22,30,46],outline:{color:[244,244,244],width:1}}});e.graphics.addMany([n]),e.goTo({center:[r,a],zoom:15},{duration:1e3})}}(l,t)}),[l,t]),n.a.createElement(W.a,{fluid:!0},n.a.createElement("div",{style:N.mapDiv,ref:o}))},G=r(60),U=r(287),J=r(290),K=r(289);var V=function(e){var t=e.attributes,r=t.RespondingDistrict,a=t.RespondingPost,o=t.NeighborhoodsName;return Object(G.isEmpty)(e.attributes)?n.a.createElement(K.a,{error:!0},"Please search for Baltimore City address above."):n.a.createElement(U.a,{striped:!0},n.a.createElement(U.a.Body,null,n.a.createElement(U.a.Row,null,n.a.createElement(U.a.Cell,null,n.a.createElement(J.a,{as:"h4"},"District")),n.a.createElement(U.a.Cell,null,n.a.createElement("a",{href:"https://www.baltimorepolice.org/find-my-district/".concat(r.toLowerCase(),"-district"),target:"_blank",rel:"noopener noreferrer"},r))),n.a.createElement(U.a.Row,null,n.a.createElement(U.a.Cell,null,n.a.createElement(J.a,{as:"h4"},"Post")),n.a.createElement(U.a.Cell,null,a)),n.a.createElement(U.a.Row,null,n.a.createElement(U.a.Cell,null,n.a.createElement(J.a,{as:"h4"},"Neighborhood")),n.a.createElement(U.a.Cell,null,o))))},q=r(285),$=r(291);var Q=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),r=t[0],o=t[1],i=Object(a.useState)(null),c=Object(u.a)(i,2),d=c[0],m=c[1],p=Object(a.useState)({title:"Find My District"}),f=Object(u.a)(p,2),h=f[0],b=f[1];Object(a.useEffect)((function(){(function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:t=e.sent,document.title=t.title,b(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var g=function(e,t){if(e){var r=e.x,a=e.y;o({x:r,y:a}),m(t)}else o(null),m(null)};return n.a.createElement("div",null,n.a.createElement("header",{style:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",backgroundColor:"#161e2e",color:"#fff",padding:"1rem",borderBottom:"1px solid #ccc"}},n.a.createElement("img",{src:"/logo.png",alt:"logo",width:"40px"}),n.a.createElement("h1",{style:{paddingLeft:"2rem",margin:0}},null===h||void 0===h?void 0:h.title)),n.a.createElement(q.a,null,n.a.createElement($.a,{stackable:!0,style:{marginTop:"1rem"}},n.a.createElement($.a.Row,null,n.a.createElement($.a.Column,{mobile:16,tablet:16,computer:5,widescreen:4,style:{marginTop:"2rem"}},n.a.createElement(B,{updateXY:g}),n.a.createElement("div",{style:{marginTop:"2rem"}},r&&!Object(G.isEmpty)(d)?n.a.createElement(V,{attributes:d}):n.a.createElement(K.a,{error:!0},"Please search for Baltimore City address above."))),n.a.createElement($.a.Column,{mobile:16,tablet:16,computer:11,widescreen:12,style:{marginTop:"2rem"}},n.a.createElement(X,{center:r,updateXY:g}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[152,1,2]]]);
//# sourceMappingURL=main.2371c841.chunk.js.map